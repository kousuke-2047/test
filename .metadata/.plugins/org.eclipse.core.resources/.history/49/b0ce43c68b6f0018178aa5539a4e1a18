package com.item.dao;

import java.util.ArrayList;
import java.sql.Connection;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.SQLException;
import com.item.util.DBConnector;
import com.item.dto.SearchDTO;


public class CSearchDAO {

	private DBConnector dbc = new DBConnector();
	private Connection con = dbc.getConnection();

	public ArrayList<SearchDTO> SearchC(String category){

		String sql = "select * from item where category = ? ";
		ArrayList<SearchDTO> item =new ArrayList<SearchDTO>();

		try{
			PreparedStatement ps = con.prepareStatement(sql);
			ps.setString(1, category);
			ResultSet rs = ps.executeQuery();

			while(rs.next()){
				SearchDTO dto = new SearchDTO();
				dto.setId(rs.getInt("id"));
				dto.setItemName(rs.getString("itemName"));
				dto.setItemPrice(rs.getInt("itemPrice"));
				dto.setCategory(rs.getString("category"));
				item.add(dto);
			}
		}catch(SQLException e){
			e.printStackTrace();
		}
		return item;
	}

}